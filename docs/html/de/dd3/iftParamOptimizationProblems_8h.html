<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libIFT: /home/gilson/Documents/ift/include/iftParamOptimizationProblems.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://www.mathjax.org/mathjax/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libIFT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">iftParamOptimizationProblems.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Definitions and functions for building problems for parameter optimization. </p>
<dl class="section author"><dt>Author</dt><dd>Samuel Martins </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Jan 01, 2017 </dd></dl>
</div><div class="textblock"><code>#include &quot;ift/core/dtypes/LabeledSet.h&quot;</code><br />
<code>#include &quot;ift/imgproc/dtypes/BoundingBox.h&quot;</code><br />
<code>#include &quot;ift/medical/segm/SOSM-S.h&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d63/iftCommon_8h.html">iftCommon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/d89/iftImage_8h.html">iftImage.h</a>&quot;</code><br />
<code>#include &quot;iftMSPS.h&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d7d/iftSimilarity_8h.html">iftSimilarity.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d4e/structiftGradMatchProb.html">iftGradMatchProb</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Problem struct for Gradient Matching optimization.  <a href="../../db/d4e/structiftGradMatchProb.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d49/structiftObjModelMeanArcWeight.html">iftObjModelMeanArcWeight</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Problem struct for optimizations with Shape Models.  <a href="../../d5/d49/structiftObjModelMeanArcWeight.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d76/structiftPatchLocalizationNMIProb.html">iftPatchLocalizationNMIProb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1d59a6f67d49c840f032b04fff8f4480" id="r_a1d59a6f67d49c840f032b04fff8f4480"><td class="memItemLeft" align="right" valign="top">iftMatrix *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd3/iftParamOptimizationProblems_8h.html#a1d59a6f67d49c840f032b04fff8f4480">iftRegularMSPSDeltaMatrix</a> (int n_params, int n_scales, int stride)</td></tr>
<tr class="memdesc:a1d59a6f67d49c840f032b04fff8f4480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the MSPS Delta Matrix with regular stride for each scale, according to: 1 + scale_index*stride.  <br /></td></tr>
<tr class="separator:a1d59a6f67d49c840f032b04fff8f4480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2526412d59b671b46704eb08d6e9922c" id="r_a2526412d59b671b46704eb08d6e9922c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d4e/structiftGradMatchProb.html">iftGradMatchProb</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd3/iftParamOptimizationProblems_8h.html#a2526412d59b671b46704eb08d6e9922c">iftCreateGradMatchProb</a> (<a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *fixed_grad_img, <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *mov_grad_img, iftVector max_disp)</td></tr>
<tr class="memdesc:a2526412d59b671b46704eb08d6e9922c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a struct for Gradient Matching Problem. Fixed and Moving images are only assigned to struct (not copied). They must have the same domain and voxel size.  <br /></td></tr>
<tr class="separator:a2526412d59b671b46704eb08d6e9922c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11561b7f704f34b8857e04ee1d7a4d01" id="r_a11561b7f704f34b8857e04ee1d7a4d01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd3/iftParamOptimizationProblems_8h.html#a11561b7f704f34b8857e04ee1d7a4d01">iftDestroyGradMatchProb</a> (<a class="el" href="../../db/d4e/structiftGradMatchProb.html">iftGradMatchProb</a> **prob)</td></tr>
<tr class="memdesc:a11561b7f704f34b8857e04ee1d7a4d01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a Grad Matching Problem Struct.  <br /></td></tr>
<tr class="separator:a11561b7f704f34b8857e04ee1d7a4d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30957f8ed690391205f1767b40a43a50" id="r_a30957f8ed690391205f1767b40a43a50"><td class="memItemLeft" align="right" valign="top"><a id="a30957f8ed690391205f1767b40a43a50" name="a30957f8ed690391205f1767b40a43a50"></a>
<a class="el" href="../../d8/d76/structiftPatchLocalizationNMIProb.html">iftPatchLocalizationNMIProb</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>iftCreatePatchLocalizationNMIProb</b> (<a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *test_img, <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *ref_img, <a class="el" href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a> true_ref_patch, <a class="el" href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a> patch, <a class="el" href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a> search_region)</td></tr>
<tr class="separator:a30957f8ed690391205f1767b40a43a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66ef83936c84dbe4e8915e93d5e35e7" id="r_af66ef83936c84dbe4e8915e93d5e35e7"><td class="memItemLeft" align="right" valign="top"><a id="af66ef83936c84dbe4e8915e93d5e35e7" name="af66ef83936c84dbe4e8915e93d5e35e7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>iftDestroyPatchLocalizationNMIProb</b> (<a class="el" href="../../d8/d76/structiftPatchLocalizationNMIProb.html">iftPatchLocalizationNMIProb</a> **prob)</td></tr>
<tr class="separator:af66ef83936c84dbe4e8915e93d5e35e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c6db14d17b6061a3a1a306b979601a" id="r_ad7c6db14d17b6061a3a1a306b979601a"><td class="memItemLeft" align="right" valign="top"><a id="ad7c6db14d17b6061a3a1a306b979601a" name="ad7c6db14d17b6061a3a1a306b979601a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>iftPatchNMI</b> (void *prob, float *theta)</td></tr>
<tr class="separator:ad7c6db14d17b6061a3a1a306b979601a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071bcfa5bea05ac61a00a1454fb9d0c7" id="r_a071bcfa5bea05ac61a00a1454fb9d0c7"><td class="memItemLeft" align="right" valign="top"><a id="a071bcfa5bea05ac61a00a1454fb9d0c7" name="a071bcfa5bea05ac61a00a1454fb9d0c7"></a>
<a class="el" href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><b>iftMSPSMaxPatchNMI</b> (<a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *img, <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *template_img, <a class="el" href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a> true_template_patch, <a class="el" href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a> patch, <a class="el" href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a> search_region)</td></tr>
<tr class="separator:a071bcfa5bea05ac61a00a1454fb9d0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6840eb9ed4c6a22cf7a1fe5be9458c2" id="r_af6840eb9ed4c6a22cf7a1fe5be9458c2"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd3/iftParamOptimizationProblems_8h.html#af6840eb9ed4c6a22cf7a1fe5be9458c2">iftMatchGradProbMean</a> (void *problem, float *theta)</td></tr>
<tr class="memdesc:af6840eb9ed4c6a22cf7a1fe5be9458c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fitness function to find the best matching between the gradients whose score is the mean value of the intersection between the gradients.  <br /></td></tr>
<tr class="separator:af6840eb9ed4c6a22cf7a1fe5be9458c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88f233b173c146598fcd8de7497643c" id="r_ac88f233b173c146598fcd8de7497643c"><td class="memItemLeft" align="right" valign="top">iftVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd3/iftParamOptimizationProblems_8h.html#ac88f233b173c146598fcd8de7497643c">iftMSPSMatchGradients</a> (<a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *fixed_grad_img, <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *mov_grad_img, int n_scales, int stride, iftVector max_disp)</td></tr>
<tr class="memdesc:ac88f233b173c146598fcd8de7497643c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the best gradient matching by translating (in x, y, z) the fixed grad image over the moving one and maximizing the mean value of their intersections. Images must have the same domain and voxel size.  <br /></td></tr>
<tr class="separator:ac88f233b173c146598fcd8de7497643c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ce9bbb396af29548cccf822245dcf1" id="r_ae0ce9bbb396af29548cccf822245dcf1"><td class="memItemLeft" align="right" valign="top"><a id="ae0ce9bbb396af29548cccf822245dcf1" name="ae0ce9bbb396af29548cccf822245dcf1"></a>
<a class="el" href="../../d5/d49/structiftObjModelMeanArcWeight.html">iftObjModelMeanArcWeight</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>iftCreateObjModelMeanArcWeightProb</b> (<a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *grad_test_img, int label, <a class="el" href="../../d9/d21/structiftLabeledSet.html">iftLabeledSet</a> *seeds, <a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *certain_obj_region, <a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *forbidden, iftVector max_disp)</td></tr>
<tr class="separator:ae0ce9bbb396af29548cccf822245dcf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6031c07645e7a764211fc056ab177bc1" id="r_a6031c07645e7a764211fc056ab177bc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd3/iftParamOptimizationProblems_8h.html#a6031c07645e7a764211fc056ab177bc1">iftDestroyObjModelMeanArcWeightProb</a> (<a class="el" href="../../d5/d49/structiftObjModelMeanArcWeight.html">iftObjModelMeanArcWeight</a> **prob)</td></tr>
<tr class="memdesc:a6031c07645e7a764211fc056ab177bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an Optimization Problem with Object Model. author Samuka.  <br /></td></tr>
<tr class="separator:a6031c07645e7a764211fc056ab177bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc47d36d09559dc163c5e20e95a7b93" id="r_afbc47d36d09559dc163c5e20e95a7b93"><td class="memItemLeft" align="right" valign="top"><a id="afbc47d36d09559dc163c5e20e95a7b93" name="afbc47d36d09559dc163c5e20e95a7b93"></a>
iftVector&#160;</td><td class="memItemRight" valign="bottom"><b>iftMSPSObjModel</b> (<a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *grad_test_img, int label, <a class="el" href="../../d9/d21/structiftLabeledSet.html">iftLabeledSet</a> *seeds, <a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *certain_obj_region, <a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *forbidden, int n_scales, int stride, iftVector max_disp)</td></tr>
<tr class="separator:afbc47d36d09559dc163c5e20e95a7b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab531472ec1003602c9316f9ae7b78575" id="r_ab531472ec1003602c9316f9ae7b78575"><td class="memItemLeft" align="right" valign="top"><a id="ab531472ec1003602c9316f9ae7b78575" name="ab531472ec1003602c9316f9ae7b78575"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>iftComputeObjModelMeanArcWeight</b> (void *problem, float *theta)</td></tr>
<tr class="separator:ab531472ec1003602c9316f9ae7b78575"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2526412d59b671b46704eb08d6e9922c" name="a2526412d59b671b46704eb08d6e9922c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2526412d59b671b46704eb08d6e9922c">&#9670;&#160;</a></span>iftCreateGradMatchProb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d4e/structiftGradMatchProb.html">iftGradMatchProb</a> * iftCreateGradMatchProb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *&#160;</td>
          <td class="paramname"><em>fixed_grad_img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *&#160;</td>
          <td class="paramname"><em>mov_grad_img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iftVector&#160;</td>
          <td class="paramname"><em>max_disp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a struct for Gradient Matching Problem. Fixed and Moving images are only assigned to struct (not copied). They must have the same domain and voxel size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fixed_grad_img</td><td>Fixed Gradient Image. </td></tr>
    <tr><td class="paramname">mov_grad_img</td><td>Moving Gradient Image that will try to match with the fixed one. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Created Gradient Matching Problem Struct.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Samuka </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Jan 2, 2017 </dd></dl>

</div>
</div>
<a id="a11561b7f704f34b8857e04ee1d7a4d01" name="a11561b7f704f34b8857e04ee1d7a4d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11561b7f704f34b8857e04ee1d7a4d01">&#9670;&#160;</a></span>iftDestroyGradMatchProb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iftDestroyGradMatchProb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d4e/structiftGradMatchProb.html">iftGradMatchProb</a> **&#160;</td>
          <td class="paramname"><em>prob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a Grad Matching Problem Struct. </p>
<dl class="section author"><dt>Author</dt><dd>Samuka </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Jan 2, 2017 </dd></dl>

</div>
</div>
<a id="a6031c07645e7a764211fc056ab177bc1" name="a6031c07645e7a764211fc056ab177bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6031c07645e7a764211fc056ab177bc1">&#9670;&#160;</a></span>iftDestroyObjModelMeanArcWeightProb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iftDestroyObjModelMeanArcWeightProb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d49/structiftObjModelMeanArcWeight.html">iftObjModelMeanArcWeight</a> **&#160;</td>
          <td class="paramname"><em>prob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an Optimization Problem with Object Model. author Samuka. </p>
<dl class="section date"><dt>Date</dt><dd>Jan 2, 2017 </dd></dl>

</div>
</div>
<a id="af6840eb9ed4c6a22cf7a1fe5be9458c2" name="af6840eb9ed4c6a22cf7a1fe5be9458c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6840eb9ed4c6a22cf7a1fe5be9458c2">&#9670;&#160;</a></span>iftMatchGradProbMean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float iftMatchGradProbMean </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>theta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fitness function to find the best matching between the gradients whose score is the mean value of the intersection between the gradients. </p>
<p>For all translated voxels from moving gradient image with values &gt; 0, it takes the mean value of the Fixed Image. <br  />
Such function must be maximized to find the optimum matching.<br  />
The array <b>theta</b> contains the displacement for the coord x, y, and z (only for 3D images). <br  />
Each voxels from moving image is translated before matching.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">problem</td><td>Gradient Matching Problem. </td></tr>
    <tr><td class="paramname">theta</td><td>Array with the displacement for the coordinates x, y, and z (only for 3D images) which is used to translate the moving gradient's voxels before matching. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Resulting score.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Samuka </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Jan 2, 2017 </dd></dl>

</div>
</div>
<a id="ac88f233b173c146598fcd8de7497643c" name="ac88f233b173c146598fcd8de7497643c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88f233b173c146598fcd8de7497643c">&#9670;&#160;</a></span>iftMSPSMatchGradients()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iftVector iftMSPSMatchGradients </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *&#160;</td>
          <td class="paramname"><em>fixed_grad_img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *&#160;</td>
          <td class="paramname"><em>mov_grad_img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_scales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iftVector&#160;</td>
          <td class="paramname"><em>max_disp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the best gradient matching by translating (in x, y, z) the fixed grad image over the moving one and maximizing the mean value of their intersections. Images must have the same domain and voxel size. </p>
<p>Stride is used to compute a regular translation for each scales, according to: 1 + scale_index*stride. <br  />
For example, n_params = 3 (x, y, z), n_scales = 4, stride = 2 <br  />
<br  />
msps-&gt;theta = [0, 0, 0] // initial translation vector <br  />
<br  />
 // perturbation of each parameter (coordinate/column) in each scale msps-&gt;delta = [[1, 1, 1], <br  />
 [3, 3, 3], <br  />
 [5, 5, 5], <br  />
 [7, 7, 7]] <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fixed_grad_img</td><td>Fixed Gradient Image. </td></tr>
    <tr><td class="paramname">mov_grad_img</td><td>Moving Gradient Image that will try to match with the fixed one. </td></tr>
    <tr><td class="paramname">n_scales</td><td>Number of scales for optimization. </td></tr>
    <tr><td class="paramname">stride</td><td>Stride used to compute a regular translation (displacement) of the moving image's coordinates for each scale. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Resulting displacement vector of the best matching.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Samuka </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Jan 2, 2017 </dd></dl>

</div>
</div>
<a id="a1d59a6f67d49c840f032b04fff8f4480" name="a1d59a6f67d49c840f032b04fff8f4480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d59a6f67d49c840f032b04fff8f4480">&#9670;&#160;</a></span>iftRegularMSPSDeltaMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iftMatrix * iftRegularMSPSDeltaMatrix </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_scales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the MSPS Delta Matrix with regular stride for each scale, according to: 1 + scale_index*stride. </p>
<p>Ex: n_params = 3, n_scales = 4, stride = 2 <br  />
msps-&gt;delta = [[1, 1, 1], <br  />
 [3, 3, 3], <br  />
 [5, 5, 5], <br  />
 [7, 7, 7]] <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_params</td><td>Number of Parameter to be optimized by MSPS. </td></tr>
    <tr><td class="paramname">n_scales</td><td>Number of Scales used by MSPS. </td></tr>
    <tr><td class="paramname">stride</td><td>Stride factor used to compute the Regular Delta Matrix. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Regular MSPS Delta Matrix.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Samuka </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Jan 2, 2017 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 18 2025 08:56:07 for libIFT by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
